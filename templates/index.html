<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Wind speed calculation</title>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" src="/static/js/jquery.ui.datepicker-ru.js"></script>
    <script>
    $.datepicker.setDefaults(
        $.extend(
            {'dateFormat':'dd.mm.yy'},
            $.datepicker.regional['ru']
        )
    );
    $( function() {
        var dateFormat = "dd.mm.yy",
        from = $( "#from" )
        .datepicker({
            dateFormat: "dd.mm.yy",
            defaultDate: "+1w",
            minDate: null,
            maxDate: "d",
            changeMonth: true,
            changeYear: true,
            numberOfMonths: 1,
            showOn: "both",
            buttonImage: "/static/img/glyphicons-46-calendar.png",
            buttonImageOnly: true,
            buttonText: "Выберите дату"
        })
        .on( "change", function() {
            to.datepicker( "option", "minDate", getDate( this ) );
        }),
        to = $( "#to" )
        .datepicker({
            dateFormat: "dd.mm.yy",
            defaultDate: "+1w",
            minDate: null,
            maxDate: "d",
            changeMonth: true,
            changeYear: true,
            numberOfMonths: 1,
            showOn: "both",
            buttonImage: "/static/img/glyphicons-46-calendar.png",
            buttonImageOnly: true,
            buttonText: "Выберите дату"
        })
        .on( "change", function() {
            from.datepicker( "option", "maxDate", getDate( this ) );
        });

        function getDate( element ) {
            var date;
            try {
                date = $.datepicker.parseDate( dateFormat, element.value );
            } catch( error ) {
                date = null;
            }

            return date;
        }
    });
    </script>
</head>
    <body>
        <nav class="navbar navbar-default">
            <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="/">Wind speed calculation</a>
            </div>
            </div>
        </nav>
        <form action="/calculate" method="POST">
        <div class="page-header" style="margin-left: 15px;">
            <h5>Введите идентификатор метеостанции:</h5>
            <input type="text" placeholder="WMO ID" id="station_id" name="station_id" required />
        </div>
        <div class="page-header" style="margin-left: 15px;">
            <h5>Данные за период:</h5>
            <label for="from"></label>
            <input type="text" style="margin-left: -5px;" placeholder="с" id="from" name="from" required />
            <label for="to"></label>
            <input type="text" placeholder="по" id="to" name="to" required />
        </div>
        <div class="page-header" style="margin-left: 15px;">
            <h5>Введите повторяемость скорости ветра, <i>лет:</i></h5>
            <input type="number" placeholder="1.0" min="1" step="0.1" style="width: 150px"
                   id="storm_recurrence" name="storm_recurrence" required />
        </div>
        <input type="submit" style="margin-left: 15px;" class="btn btn-default" value="Рассчитать"/>
        </form>
    </body>
</html>